"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[15811],{83166:(e,t,n)=>{var i=n(64836);t.Z=void 0;var r=i(n(64938)),s=n(85893),o=(0,r.default)((0,s.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"}),"GppGood");t.Z=o},80427:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>g,default:()=>k,frontMatter:()=>y,metadata:()=>h,toc:()=>x});var i=n(3905),r=n(49044),s=n(90556),o=n(29749);const a=JSON.parse('{"title":"Azure Bridge Configuration","description":"","type":"object","properties":{"eventhubs":{"description":"The Azure EventHubs Bridge can forward messages to multiple EventHubs resources.","type":"array","items":{"description":"An Azure EventHubs resource.","type":"object","properties":{"name":{"description":"Unique namespace identifier of an EventHubs","type":"string","minLength":1},"auth":{"description":"EventHubs specific authentication. Either specify a Shared Access Signature (SAS) key or use Role Based Access Control (RBAC)","type":"object","properties":{"sas":{"type":"object","properties":{"key":{"type":"string","minLength":1}},"required":["key"]},"rbac":{"type":"object","properties":{"tenantId":{"type":"string","minLength":1},"clientId":{"type":"string","minLength":1},"clientSecret":{"type":"string","minLength":1},"fullyQualifiedNamespace":{"description":"Full namespace qualifier. If not specified \\"<namespace>.servicebus.windows.net\\" will be used","type":"string","minLength":1}},"required":[]}},"oneOf":[{"required":["sas"]},{"required":["rbac"]}]}},"required":["name","auth"]}},"producers":{"description":"Per producer settings for each event hub within an EventHubs resource","type":"array","items":{"description":"Producer settings for each event hub within an EventHubs resource","type":"object","properties":{"name":{"description":"Unique name for this producer to use and identify it in mappings","type":"string","minLength":1},"type":{"description":"Use a batch producer for direct message passing or a buffered producer to collect several messages before sending to eventhub","type":"string","default":"batch","enum":["batch","buffered"]},"hub":{"description":"Name of the hub to send messages to","type":"string","minLength":1},"eventhub":{"description":"Namespace of the EventHubs to use","type":"string","minLength":1},"auth":{"description":"Producer specific authentication. Specify only if differ from EventHubs auth","type":"object","properties":{"sas":{"type":"object","properties":{"key":{"type":"string","minLength":1}},"required":["key"]},"rbac":{"type":"object","properties":{"tenantId":{"type":"string","minLength":1},"clientId":{"type":"string","minLength":1},"clientSecret":{"type":"string","minLength":1},"fullyQualifiedNamespace":{"description":"Full namespace qualifier. If not specified \\"<namespace>.servicebus.windows.net\\" will be used","type":"string","minLength":1}},"required":[]}},"oneOf":[{"required":["sas"]},{"required":["rbac"]}]},"options":{"description":"General producer options","type":"object","properties":{"messageId":{"description":"Custom, may be useful for tracking event source","type":"string"},"correlationId":{"description":"Custom, may be useful for debbuing or tracking events","type":"string"},"partitionId":{"description":"Partition id like \\"0\\", \\"1\\",... This enables ordered event process on same partition. Either specify this or partitionKey, but not both!","type":"string"},"partitionKey":{"description":"A fix or dynamic value. This enables ordered event process on same partition. Either specify this or partitionId, but not both!","type":"object","properties":{"field":{"description":"JSON-path wich specifies a field within message payload. To use a fix value specify default only.","type":"string"},"default":{"description":"Either used as default if field could not be resolved or as fix value if no field is specified"}}}},"anyOf":[{"required":["partitionId"],"not":{"required":["partitionKey"]}},{"required":["partitionKey"],"not":{"required":["partitionId"]}},{"not":{"required":["partitionId","partitionKey"]}}]},"retryOptions":{"type":"object","properties":{"mode":{"type":"string","enum":["fix","exponential"]},"delayInMs":{"description":"Period in milliseconds to wait until next retry","type":"number"},"maxDelayInMs":{"description":"Max. delay in milliseconds to wait before next retry. Only useful if mode is exponential","type":"number"},"maxRetries":{"description":"Max. number of retries","type":"number"},"timeoutInMs":{"description":"Milliseconds to wait before declaring current request as timed out","type":"number"}}},"batch":{"description":"Options to apply for batch producer only","type":"object","properties":{"maxSizeInBytes":{"description":"Max. batch size","type":"number"},"maxOpenBatches":{"description":"Max. number of batches sending or retrying at the same time. Default is 10","type":"number"}}},"buffer":{"description":"Options for buffered producer only","type":"object","properties":{"maxWaitTimeInMs":{"description":"Milliseconds to wait for next message. If none is received during this period the buffered producer sends all of its messages.","type":"number"},"maxEventBufferLengthPerPartitions":{"description":"Max. buffer length. If this limit is reached the buffer sends all of its messages.","type":"number"}}}},"required":["name","hub","eventhub"]}},"topicMappings":{"description":"Descriptions for how to map MQTT topics to azure event hubs","type":"array","items":{"type":"object","properties":{"mqttTopics":{"description":"List of MQTT topics to map","type":"array","items":{"description":"MQTT topic to map","type":"string","minLength":1}},"target":{"description":"Name of defined producer to send message to","type":"string","minLength":1}},"required":["mqttTopics","target"]}}},"required":["eventhubs","producers"]}');var p=Object.defineProperty,c=Object.defineProperties,d=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&b(e,n,t[n]);if(u)for(var n of u(t))m.call(t,n)&&b(e,n,t[n]);return e};const y={id:"azure-bridge",title:"Azure Bridge",sidebar_label:"Azure Bridge"},g=void 0,h={unversionedId:"bridges/azure-bridge",id:"bridges/azure-bridge",title:"Azure Bridge",description:"Plugin Activation",source:"@site/mosquitto/bridges/Azure-bridge.md",sourceDirName:"bridges",slug:"/bridges/azure-bridge",permalink:"/documentation-staging/mosquitto/next/bridges/azure-bridge",draft:!1,tags:[],version:"current",frontMatter:{id:"azure-bridge",title:"Azure Bridge",sidebar_label:"Azure Bridge"},sidebar:"someSidebar",previous:{title:"Login Rate Limiting",permalink:"/documentation-staging/mosquitto/next/security/login-rate-limiting"},next:{title:"Google Pub/Sub Bridge",permalink:"/documentation-staging/mosquitto/next/bridges/google-pubsub-bridge"}},v={},x=[{value:"Plugin Activation",id:"plugin-activation",level:2},{value:"Config File Format",id:"config-file-format",level:2},{value:"Examples",id:"examples",level:2},{value:"JSON Schema",id:"json-schema",level:2}],w={toc:x};function k(e){var t,n=e,{components:p}=n,b=((e,t)=>{var n={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&u)for(var i of u(e))t.indexOf(i)<0&&m.call(e,i)&&(n[i]=e[i]);return n})(n,["components"]);return(0,i.kt)("wrapper",(t=f(f({},w),b),c(t,d({components:p,mdxType:"MDXLayout"}))),(0,i.kt)(r.Z,{mdxType:"PremiumFeature"}),(0,i.kt)("h2",f({},{id:"plugin-activation"}),"Plugin Activation"),(0,i.kt)("p",null,'To load and enable the plugin into the broker, the "mosquitto.conf" must be extended by:'),(0,i.kt)("pre",null,(0,i.kt)("code",f({parentName:"pre"},{}),"plugin /usr/lib/cedalo_mongodb_bridge.so\n\npersistence_location /mosquitto/data\n")),(0,i.kt)("p",null,"To make use of the hostname parameter make sure to set the environment variable in the ",(0,i.kt)("inlineCode",{parentName:"p"},"docker-compose-yml")," called ",(0,i.kt)("inlineCode",{parentName:"p"},"hostname")," as wished."),(0,i.kt)("h2",f({},{id:"config-file-format"}),"Config File Format"),(0,i.kt)(s.Z,{schema:a,mdxType:"SchemaDescription"}),(0,i.kt)("h2",f({},{id:"examples"}),"Examples"),(0,i.kt)("h2",f({},{id:"json-schema"}),"JSON Schema"),(0,i.kt)(o.default,{mdxType:"SchemaDisplay"}))}k.isMDXComponent=!0},29749:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>m,default:()=>h,frontMatter:()=>l,metadata:()=>b,toc:()=>y});var i=n(3905),r=Object.defineProperty,s=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&d(e,n,t[n]);if(a)for(var n of a(t))c.call(t,n)&&d(e,n,t[n]);return e};const l={},m=void 0,b={unversionedId:"bridges/azure-eventhubs-bridge-schema",id:"bridges/azure-eventhubs-bridge-schema",title:"azure-eventhubs-bridge-schema",description:"Schema for the Microsoft Azure\xae Bridge, which describes all configuration options for the bridge.",source:"@site/mosquitto/bridges/azure-eventhubs-bridge-schema.md",sourceDirName:"bridges",slug:"/bridges/azure-eventhubs-bridge-schema",permalink:"/documentation-staging/mosquitto/next/bridges/azure-eventhubs-bridge-schema",draft:!1,tags:[],version:"current",frontMatter:{}},f={},y=[],g={toc:y};function h(e){var t,n=e,{components:r}=n,d=((e,t)=>{var n={};for(var i in e)p.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&a)for(var i of a(e))t.indexOf(i)<0&&c.call(e,i)&&(n[i]=e[i]);return n})(n,["components"]);return(0,i.kt)("wrapper",(t=u(u({},g),d),s(t,o({components:r,mdxType:"MDXLayout"}))),(0,i.kt)("p",null,"Schema for the Microsoft Azure\xae Bridge, which describes all configuration options for the bridge. "),(0,i.kt)("pre",null,(0,i.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n    "title": "Azure Bridge Configuration",\n    "description": "",\n    "type": "object",\n    "properties": {\n        "eventhubs": {\n            "description": "The Azure EventHubs Bridge can forward messages to multiple EventHubs resources.",\n            "type": "array",\n            "items": {\n                "description": "An Azure EventHubs resource.",\n                "type": "object",\n                "properties": {\n                    "name": {\n                        "description": "Unique namespace identifier of an EventHubs",\n                        "type": "string",\n                        "minLength": 1\n                    },\n                    "auth": {\n                        "description": "EventHubs specific authentication. Either specify a Shared Access Signature (SAS) key or use Role Based Access Control (RBAC)",\n                        "type": "object",\n                        "properties": {\n                            "sas": {\n                                "type": "object",\n                                "properties": {\n                                    "key": {\n                                        "type": "string",\n                                        "minLength": 1\n                                    }\n                                },\n                                "required": [\n                                    "key"\n                                ]\n                            },\n                            "rbac": {\n                                "type": "object",\n                                "properties": {\n                                    "tenantId": {\n                                        "type": "string",\n                                        "minLength": 1\n                                    },\n                                    "clientId": {\n                                        "type": "string",\n                                        "minLength": 1\n                                    },\n                                    "clientSecret": {\n                                        "type": "string",\n                                        "minLength": 1\n                                    },\n                                    "fullyQualifiedNamespace": {\n                                        "description": "Full namespace qualifier. If not specified \\"<namespace>.servicebus.windows.net\\" will be used",\n                                        "type": "string",\n                                        "minLength": 1\n                                    }\n                                },\n                                "required": []\n                            }\n                        },\n                        "oneOf": [\n                            {\n                                "required": [\n                                    "sas"\n                                ]\n                            },\n                            {\n                                "required": [\n                                    "rbac"\n                                ]\n                            }\n                        ]\n                    }\n                },\n                "required": [\n                    "name",\n                    "auth"\n                ]\n            }\n        },\n        "producers": {\n            "description": "Per producer settings for each event hub within an EventHubs resource",\n            "type": "array",\n            "items": {\n                "description": "Producer settings for each event hub within an EventHubs resource",\n                "type": "object",\n                "properties": {\n                    "name": {\n                        "description": "Unique name for this producer to use and identify it in mappings",\n                        "type": "string",\n                        "minLength": 1\n                    },\n                    "type": {\n                        "description": "Use a batch producer for direct message passing or a buffered producer to collect several messages before sending to eventhub",\n                        "type": "string",\n                        "default": "batch",\n                        "enum": [\n                            "batch",\n                            "buffered"\n                        ]\n                    },\n                    "hub": {\n                        "description": "Name of the hub to send messages to",\n                        "type": "string",\n                        "minLength": 1\n                    },\n                    "eventhub": {\n                        "description": "Namespace of the EventHubs to use",\n                        "type": "string",\n                        "minLength": 1\n                    },\n                    "auth": {\n                        "description": "Producer specific authentication. Specify only if differ from EventHubs auth",\n                        "type": "object",\n                        "properties": {\n                            "sas": {\n                                "type": "object",\n                                "properties": {\n                                    "key": {\n                                        "type": "string",\n                                        "minLength": 1\n                                    }\n                                },\n                                "required": [\n                                    "key"\n                                ]\n                            },\n                            "rbac": {\n                                "type": "object",\n                                "properties": {\n                                    "tenantId": {\n                                        "type": "string",\n                                        "minLength": 1\n                                    },\n                                    "clientId": {\n                                        "type": "string",\n                                        "minLength": 1\n                                    },\n                                    "clientSecret": {\n                                        "type": "string",\n                                        "minLength": 1\n                                    },\n                                    "fullyQualifiedNamespace": {\n                                        "description": "Full namespace qualifier. If not specified \\"<namespace>.servicebus.windows.net\\" will be used",\n                                        "type": "string",\n                                        "minLength": 1\n                                    }\n                                },\n                                "required": []\n                            }\n                        },\n                        "oneOf": [\n                            {\n                                "required": [\n                                    "sas"\n                                ]\n                            },\n                            {\n                                "required": [\n                                    "rbac"\n                                ]\n                            }\n                        ]\n                    },\n                    "options": {\n                        "description": "General producer options",\n                        "type": "object",\n                        "properties": {\n                            "messageId": {\n                                "description": "Custom, may be useful for tracking event source",\n                                "type": "string"\n                            },\n                            "correlationId": {\n                                "description": "Custom, may be useful for debbuing or tracking events",\n                                "type": "string"\n                            },\n                            "partitionId": {\n                                "description": "Partition id like \\"0\\", \\"1\\",... This enables ordered event process on same partition. Either specify this or partitionKey, but not both!",\n                                "type": "string"\n                            },\n                            "partitionKey": {\n                                "description": "A fix or dynamic value. This enables ordered event process on same partition. Either specify this or partitionId, but not both!",\n                                "type": "object",\n                                "properties": {\n                                    "field": {\n                                        "description": "JSON-path wich specifies a field within message payload. To use a fix value specify default only.",\n                                        "type": "string"\n                                    },\n                                    "default": {\n                                        "description": "Either used as default if field could not be resolved or as fix value if no field is specified"\n                                    }\n                                }\n                            }\n                        },\n                        "anyOf": [\n                            {\n                                "required": [\n                                    "partitionId"\n                                ],\n                                "not": {\n                                    "required": [\n                                        "partitionKey"\n                                    ]\n                                }\n                            },\n                            {\n                                "required": [\n                                    "partitionKey"\n                                ],\n                                "not": {\n                                    "required": [\n                                        "partitionId"\n                                    ]\n                                }\n                            },\n                            {\n                                "not": {\n                                    "required": [\n                                        "partitionId",\n                                        "partitionKey"\n                                    ]\n                                }\n                            }\n                        ]\n                    },\n                    "retryOptions": {\n                        "type": "object",\n                        "properties": {\n                            "mode": {\n                                "type": "string",\n                                "enum": [\n                                    "fix",\n                                    "exponential"\n                                ]\n                            },\n                            "delayInMs": {\n                                "description": "Period in milliseconds to wait until next retry",\n                                "type": "number"\n                            },\n                            "maxDelayInMs": {\n                                "description": "Max. delay in milliseconds to wait before next retry. Only useful if mode is exponential",\n                                "type": "number"\n                            },\n                            "maxRetries": {\n                                "description": "Max. number of retries",\n                                "type": "number"\n                            },\n                            "timeoutInMs": {\n                                "description": "Milliseconds to wait before declaring current request as timed out",\n                                "type": "number"\n                            }\n                        }\n                    },\n                    "batch": {\n                        "description": "Options to apply for batch producer only",\n                        "type": "object",\n                        "properties": {\n                            "maxSizeInBytes": {\n                                "description": "Max. batch size",\n                                "type": "number"\n                            },\n                            "maxOpenBatches": {\n                                "description": "Max. number of batches sending or retrying at the same time. Default is 10",\n                                "type": "number"\n                            }\n                        }\n                    },\n                    "buffer": {\n                        "description": "Options for buffered producer only",\n                        "type": "object",\n                        "properties": {\n                            "maxWaitTimeInMs": {\n                                "description": "Milliseconds to wait for next message. If none is received during this period the buffered producer sends all of its messages.",\n                                "type": "number"\n                            },\n                            "maxEventBufferLengthPerPartitions": {\n                                "description": "Max. buffer length. If this limit is reached the buffer sends all of its messages.",\n                                "type": "number"\n                            }\n                        }\n                    }\n                },\n                "required": [\n                    "name",\n                    "hub",\n                    "eventhub"\n                ]\n            }\n        },\n        "topicMappings": {\n            "description": "Descriptions for how to map MQTT topics to azure event hubs",\n            "type": "array",\n            "items": {\n                "type": "object",\n                "properties": {\n                    "mqttTopics": {\n                        "description": "List of MQTT topics to map",\n                        "type": "array",\n                        "items": {\n                            "description": "MQTT topic to map",\n                            "type": "string",\n                            "minLength": 1\n                        }\n                    },\n                    "target": {\n                        "description": "Name of defined producer to send message to",\n                        "type": "string",\n                        "minLength": 1\n                    }\n                },\n                "required": [\n                    "mqttTopics",\n                    "target"\n                ]\n            }\n        }\n    },\n    "required": [\n        "eventhubs",\n        "producers"\n    ]\n}\n')))}h.isMDXComponent=!0},49044:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(67294),r=n(39082),s=n(62659),o=n(83166);function a({inline:e}){return i.createElement(r.Z,{sx:{margin:e?"0px 5px":"5px 5px 15px 5px",height:e?"22px":void 0,color:"#ffffff",backgroundColor:s.Z[500]},size:"small",icon:i.createElement(o.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}},90556:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(67294);function r({schema:e}){const t=(e,n,r,s)=>(Object.entries(null==n?void 0:n.properties).forEach((([n,o])=>{switch(e.push(i.createElement("tr",{key:r.index,style:{backgroundColor:"transparent"}},i.createElement("td",{style:{paddingLeft:10+20*s+"px"}},n),i.createElement("td",null,o.type),i.createElement("td",null,""),i.createElement("td",null,o.description))),r.index+=1,o.type){case"array":return void(o.items.properties&&(e.push(i.createElement("tr",{key:r.index,style:{backgroundColor:"transparent"}},i.createElement("td",{colSpan:4,style:{backgroundColor:"#666",color:"white",paddingLeft:10+20*s+"px"}},`Array Item for ${n}:`))),t(e,o.items,r,s+1)));case"object":return e.push(i.createElement("tr",{key:r.index,style:{backgroundColor:"transparent"}},i.createElement("td",{colSpan:4,style:{backgroundColor:"#666",color:"white",paddingLeft:10+20*s+"px"}},`Object Properties for ${n}:`))),r.index+=1,t(e,o,r,s+1),e.push(i.createElement("tr",{key:r.index,style:{backgroundColor:"transparent"}},i.createElement("td",{colSpan:4},""))),void(r.index+=1)}})),e);return e?i.createElement(i.Fragment,null,i.createElement("p",null,"The config file contains a JSON of the following structure:"),i.createElement("table",{style:{width:"100%",display:"table"}},i.createElement("thead",null,i.createElement("tr",null,i.createElement("td",{style:{width:"20%"}},"Name"),i.createElement("td",{style:{width:"10%"}},"Type"),i.createElement("td",{style:{width:"10%"}},"Required"),i.createElement("td",{style:{width:"60%"}},"Description"))),i.createElement("tbody",null,t([],"object"===e.type?e:e.items,{index:0},0))),i.createElement("p",null,"Further details can be viewed in the JSON Schema section below.")):null}}}]);