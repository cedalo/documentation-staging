"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[10517],{83166:(e,t,i)=>{var a=i(64836);t.Z=void 0;var n=a(i(64938)),r=i(85893),c=(0,n.default)((0,r.jsx)("path",{d:"M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1.06 13.54L7.4 12l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41-5.64 5.66z"}),"GppGood");t.Z=c},13328:(e,t,i)=>{var a=i(64836);t.Z=void 0;var n=a(i(64938)),r=i(85893),c=(0,n.default)((0,r.jsx)("path",{d:"m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"}),"NewReleases");t.Z=c},2755:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>b,contentTitle:()=>g,default:()=>y,frontMatter:()=>h,metadata:()=>u,toc:()=>k});var a=i(3905),n=i(78901),r=i(49044),c=Object.defineProperty,l=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(e,t,i)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,f=(e,t)=>{for(var i in t||(t={}))d.call(t,i)&&m(e,i,t[i]);if(s)for(var i of s(t))p.call(t,i)&&m(e,i,t[i]);return e};const h={id:"mc-cert-management",hide_title:!0,title:"Certificate Management"},g=void 0,u={unversionedId:"mc-cert-management",id:"mc-cert-management",title:"Certificate Management",description:"!! D R A F T !!",source:"@site/management-center/cert-management.md",sourceDirName:".",slug:"/mc-cert-management",permalink:"/documentation-staging/management-center/next/mc-cert-management",draft:!1,tags:[],version:"current",frontMatter:{id:"mc-cert-management",hide_title:!0,title:"Certificate Management"},sidebar:"someSidebar",previous:{title:"Dynamic Security REST API",permalink:"/documentation-staging/management-center/next/mc-dynamic-security-rest-api"},next:{title:"Client Certificates and Custom CAs \u2b50",permalink:"/documentation-staging/management-center/next/mc-custom-client-certificates-and-ca"}},b={},k=[{value:"Enable Certificate Management",id:"enable-certificate-management",level:2},{value:"Certificates Overview",id:"certificates-overview",level:2},{value:"Add Certificate",id:"add-certificate",level:2},{value:"Deploy / Undeploy Certificate",id:"deploy--undeploy-certificate",level:2},{value:"Update Certificate",id:"update-certificate",level:2},{value:"Delete Certificate",id:"delete-certificate",level:2}],v={toc:k};function y(e){var t,c=e,{components:m}=c,h=((e,t)=>{var i={};for(var a in e)d.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&s)for(var a of s(e))t.indexOf(a)<0&&p.call(e,a)&&(i[a]=e[a]);return i})(c,["components"]);return(0,a.kt)("wrapper",(t=f(f({},v),h),l(t,o({components:m,mdxType:"MDXLayout"}))),(0,a.kt)("h1",null,(0,a.kt)("b",null,"!! D R A F T !!")),(0,a.kt)("h1",null,"Certificate Management"),(0,a.kt)(n.Z,{version:"2.6",mdxType:"SinceVersion"}),(0,a.kt)(r.Z,{mdxType:"PremiumFeature"}),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"This feature allows users to manage client CA certificates within the Management Center. This means a user can upload\nCA certificates to the Management Center and deploy them to connected broker instances. Later versions will also support\ngenerating certificates.",(0,a.kt)("br",null),"\n",(0,a.kt)("strong",{parentName:"p"},"NOTE:")," the Management Center currently supports only X509 certificates"),(0,a.kt)("br",null),(0,a.kt)("h2",f({},{id:"enable-certificate-management"}),"Enable Certificate Management"),(0,a.kt)("p",null,"To enable the Certificate Management feature, make sure you are using the Pro Edition of Mosquitto and that you have the\nfeature enabled in your license. Also ensure that your config file (specified either by setting the ",(0,a.kt)("inlineCode",{parentName:"p"},"CEDALO_MC_PROXY_CONFIG"),"\nenvironment variable or, if not set, using ",(0,a.kt)("inlineCode",{parentName:"p"},"management-center/config/config.json")," by default) contains the following\nentry inside of the ",(0,a.kt)("inlineCode",{parentName:"p"},"plugins")," array:"),(0,a.kt)("pre",null,(0,a.kt)("code",f({parentName:"pre"},{}),'    {\n      "name": "cert-management"\n    }\n')),(0,a.kt)("p",null,"On start-up, the Management Center will print a message that the ",(0,a.kt)("inlineCode",{parentName:"p"},"cert-management")," plugin is enabled and loaded into the\nconsole:"),(0,a.kt)("pre",null,(0,a.kt)("code",f({parentName:"pre"},{}),'Loaded plugin: "cedalo_cert_management" (Cedalo Certificate Management)\n')),(0,a.kt)("h2",f({},{id:"certificates-overview"}),"Certificates Overview"),(0,a.kt)("p",null,'To show a list of all currently registered certificates click on the three dots in the bottom left and from the\nappearing Admin sidebar select the entry named "Certificate Management". It is most likely that no certificate is listed\non first start since none has been added yet.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(48504).Z,width:"3336",height:"2150"})),(0,a.kt)("h2",f({},{id:"add-certificate"}),"Add Certificate"),(0,a.kt)("p",null,'To add a new certificate to the Management Center click on the "Add Certificate" button in the upper right of the\nCertificates overview page. Here a meaningful name should be specified in the "Descriptive Name" field and a certificate\nfile can be uploaded via a click on the "Choose File" button.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(8497).Z,width:"3336",height:"2210"})),(0,a.kt)("p",null,'If the uploaded certificate is valid, i.e. is a X509 certificate, detailed information can be viewed by expanding\n"Certificate Details":'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(91701).Z,width:"3336",height:"2210"})),(0,a.kt)("p",null,'If everything is fine a click on "Save" navigates back to the Certificates overview page which now lists the newly added\ncertificate.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(96422).Z,width:"3336",height:"2210"})),(0,a.kt)("h2",f({},{id:"deploy--undeploy-certificate"}),"Deploy / Undeploy Certificate"),(0,a.kt)("p",null,"To deploy (or undeploy) a registered certificate to a connected broker click on the cloud icon at the right of the\ncorresponding row."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(50113).Z,width:"3336",height:"2210"})),(0,a.kt)("p",null,"This brings up the deploy / undeploy certificate page which looks like this"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(68319).Z,width:"3336",height:"2210"}),"\nTo deploy a certificate to a broker instance first select the corresponding connection from the drop down menu:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(45651).Z,width:"3336",height:"2210"}),"\nAnd then select one or several of the defined listeners to deploy to. If a certificate was already deployed to a listener\nit will be selected."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(19505).Z,width:"3336",height:"2210"}),'\nIf done a click on "Apply" deploys the certificate to selected listeners of the choosen connection.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(10529).Z,width:"3336",height:"2210"}),'\nTo undeploy a certificate simply deselect the corresponding listeners and click "Apply" again.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(56550).Z,width:"3336",height:"2210"}),'\nDo the same for all other connections from the drop down menu to which this certificate should be deployed or undeployed\nfrom. Finally either click the "Cancel" button or "Certificates" in the upper page path to go back to the overview page.\nIf a certificate was successfully deployed the corresponding broker connections should be listed in the "Used By" column.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(89101).Z,width:"3336",height:"2210"})),(0,a.kt)("h2",f({},{id:"update-certificate"}),"Update Certificate"),(0,a.kt)("p",null,"Updating a certificate is almost the same as adding a new one (",(0,a.kt)("a",f({parentName:"p"},{href:"#add-certificate"}),"See Add Certificate"),"). To update click\non the correspponding row of the certificate within the Certificates overview page. This brings up a page which is\nquite similar to the add-certificate page. Here the name or the certificate file can be changed.",(0,a.kt)("br",null),"\n",(0,a.kt)("strong",{parentName:"p"},"Note:")," it is  disallowed to change the certificate file if it is currently deployed to at least one broker. In that\ncase the certificate must first be undeployed from these brokers before it can be changed."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(99996).Z,width:"3336",height:"2210"})),(0,a.kt)("h2",f({},{id:"delete-certificate"}),"Delete Certificate"),(0,a.kt)("p",null,"To delete a certificate click on the trashcan icon at the right of the corresponding row in the Certifcates overiew\npage. ",(0,a.kt)("br",null),"\n",(0,a.kt)("strong",{parentName:"p"},"NOTE:"),"  deleting a certificate will not only deregister the certificate from the Management Center but also undeploys\nit from all connected brokers to which it was deployed. Therefore this action must be confirmed:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(47924).Z,width:"3336",height:"2210"}),'\nIf you are not sure simply click on "Cancel" to abort this action, otherwise click "Ok" to proceed. If deletion and\nundeployment were successful the overview page is now empty again.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"image",src:i(87043).Z,width:"3336",height:"2210"})))}y.isMDXComponent=!0},49044:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(67294),n=i(74889),r=i(62659),c=i(83166);function l({}){return a.createElement(n.Z,{sx:{margin:"5px",color:"#ffffff",backgroundColor:r.Z[500]},size:"small",icon:a.createElement(c.Z,{style:{color:"white"},size:"small"}),label:"Premium"})}},78901:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(67294),n=i(74889),r=i(13328);function c({version:e}){return e?a.createElement(n.Z,{sx:{margin:"5px"},color:"info",size:"small",icon:a.createElement(r.Z,{size:"small"}),label:`${e}`}):a.createElement(a.Fragment,null)}},91701:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/add-cert-details-9a5349f4e474c39fef79d391f007e0b2.png"},8497:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/add-cert-ac3ceb8d4b39ac4e975407b723055b5c.png"},47924:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/delete-cert-confirm-046f8adb5fd57c6e14fd6d150a2ad990.png"},45651:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/deploy-cert-connection-67ea75c1011403708c09b01b5ed295b8.png"},19505:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/deploy-cert-listeners-7adeea73d2da3afb71347d36e6fa1bf6.png"},10529:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/deploy-cert-success-67b896cb7973c611bc7325f5f5af0d18.png"},68319:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/deploy-cert-b3e3c22a637878127059c0af1148d6e5.png"},87043:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/overview-cert-deleted-5a8c1cbd9b785875e98fbce1d5fb8d0f.png"},50113:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/overview-cert-deploy-2dcf357799ba73becfc9db22be550df4.png"},89101:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/overview-cert-usedby-fca3cd495f6dccbcfe61b35629738aa2.png"},96422:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/overview-certs-9f35594680bb49b8b528f1e09077e436.png"},48504:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/overview-83968072c6a70b05ac049398a1477540.png"},56550:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/undeploy-cert-success-ad53b12a921b7791889b380b84862942.png"},99996:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/update-cert-8e4baa38cf6ed4e3feb9028cf7afcc5d.png"}}]);