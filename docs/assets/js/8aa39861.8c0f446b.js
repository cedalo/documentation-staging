"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[28119],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),f=u(n),m=o,d=f["".concat(s,".").concat(m)]||f[m]||p[m]||a;return n?r.createElement(d,i(i({ref:t},l),{},{components:n})):r.createElement(d,i({ref:t},l))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=f;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},50366:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>m,default:()=>b,frontMatter:()=>f,metadata:()=>d,toc:()=>h});var r=n(3905),o=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(c)for(var n of c(t))u.call(t,n)&&l(e,n,t[n]);return e};const f={id:"cedalo-force-username",title:"Force Username (Watson helper) plugin",sidebar_label:"Force Username"},m=void 0,d={unversionedId:"broker/Mosquitto Manual/cedalo-force-username",id:"broker/Mosquitto Manual/cedalo-force-username",title:"Force Username (Watson helper) plugin",description:"Using this plugin means that any client connecting will have its username",source:"@site/mosquitto/broker/Mosquitto Manual/force-username.md",sourceDirName:"broker/Mosquitto Manual",slug:"/broker/Mosquitto Manual/cedalo-force-username",permalink:"/documentation-staging/mosquitto/next/broker/Mosquitto Manual/cedalo-force-username",draft:!1,tags:[],version:"current",frontMatter:{id:"cedalo-force-username",title:"Force Username (Watson helper) plugin",sidebar_label:"Force Username"}},g={},h=[{value:"Plugin configuration",id:"plugin-configuration",level:2}],y={toc:h};function b(e){var t,n=e,{components:o}=n,l=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&c)for(var r of c(e))t.indexOf(r)<0&&u.call(e,r)&&(n[r]=e[r]);return n})(n,["components"]);return(0,r.kt)("wrapper",(t=p(p({},y),l),a(t,i({components:o,mdxType:"MDXLayout"}))),(0,r.kt)("p",null,"Using this plugin means that any client connecting will have its username\nforced to be the same as its client id prior to other basic username/password\nauthentication taking place."),(0,r.kt)("p",null,"This is useful where you have devices or applications that do not use the\nusername for authentication, such as the now defunct IBM Watson IoT platform,\nand want to connect them to Mosquitto and use usernames for authentication and\nauthorisation with e.g. the dynamic security plugin."),(0,r.kt)("p",null,"Other Mosquitto options can also modify the username of a client, based on the\ncontents of a client TLS certificate. These are the ",(0,r.kt)("inlineCode",{parentName:"p"},"use_identity_as_username"),"\nand ",(0,r.kt)("inlineCode",{parentName:"p"},"use_subject_as_username")," options, used in conjunction with\n",(0,r.kt)("inlineCode",{parentName:"p"},"require_certificate"),". If either of those options is active and the Force\nUsername plugin is active, the final username will be the one provided by the\nForce Username plugin."),(0,r.kt)("h2",p({},{id:"plugin-configuration"}),"Plugin configuration"),(0,r.kt)("p",null,"To configure the plugin, add it to your Mosquitto configuration file ",(0,r.kt)("em",{parentName:"p"},"before"),"\nother authentication plugins. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",p({parentName:"pre"},{className:"language-aconf"}),"listener 8883\ncertfile <server.pem>\nkeyfile <server.key>\n\nplugin /usr/lib/cedalo_force_username.so\n\nplugin /usr/lib/mosquitto_dynamic_security.so\nplugin_opt_config_file /mosquitto/data/dynamic-security.json\n")),(0,r.kt)("p",null,"There is no further configuration required."))}b.isMDXComponent=!0}}]);