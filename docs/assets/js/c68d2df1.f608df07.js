"use strict";(self.webpackChunkstreamsheets=self.webpackChunkstreamsheets||[]).push([[86217],{13328:(e,t,i)=>{var n=i(64836);t.Z=void 0;var o=n(i(64938)),l=i(85893),r=(0,o.default)((0,l.jsx)("path",{d:"m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"}),"NewReleases");t.Z=r},15201:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>f,contentTitle:()=>h,default:()=>y,frontMatter:()=>m,metadata:()=>b,toc:()=>k});var n=i(3905),o=i(78901),l=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(e,t,i)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,p=(e,t)=>{for(var i in t||(t={}))c.call(t,i)&&d(e,i,t[i]);if(s)for(var i of s(t))u.call(t,i)&&d(e,i,t[i]);return e};const m={id:"security-roles",title:"Roles",sidebar_label:"Roles"},h=void 0,b={unversionedId:"security/clients/security-roles",id:"security/clients/security-roles",title:"Roles",description:"This section describes how to manage roles and ACLs (Access Control Lists). A role contains a number of ACLs,",source:"@site/mosquitto/security/clients/roles.md",sourceDirName:"security/clients",slug:"/security/clients/security-roles",permalink:"/documentation-staging/mosquitto/next/security/clients/security-roles",draft:!1,tags:[],version:"current",frontMatter:{id:"security-roles",title:"Roles",sidebar_label:"Roles"},sidebar:"someSidebar",previous:{title:"Groups",permalink:"/documentation-staging/mosquitto/next/security/clients/security-groups"},next:{title:"Force Username",permalink:"/documentation-staging/mosquitto/next/security/clients/security-username"}},f={},k=[{value:"Roles Overview",id:"roles-overview",level:2},{value:"Create roles",id:"create-roles",level:2},{value:"Edit roles",id:"edit-roles",level:2},{value:"Role Details",id:"role-details",level:3},{value:"Role ACLs",id:"role-acls",level:3},{value:"Configuring default access",id:"configuring-default-access",level:2}],g={toc:k};function y(e){var t,i=e,{components:l}=i,d=((e,t)=>{var i={};for(var n in e)c.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&s)for(var n of s(e))t.indexOf(n)<0&&u.call(e,n)&&(i[n]=e[n]);return i})(i,["components"]);return(0,n.kt)("wrapper",(t=p(p({},g),d),r(t,a({components:l,mdxType:"MDXLayout"}))),(0,n.kt)(o.Z,{version:"2.0",mdxType:"SinceVersion"}),(0,n.kt)("p",null,"This section describes how to manage roles and ACLs (Access Control Lists). A role contains a number of ACLs,\nwhich either specifically allow or deny an action. Add as many ACLs as you need to a role."),(0,n.kt)("p",null,"Roles are part of the ",(0,n.kt)("a",p({parentName:"p"},{href:"/documentation-staging/mosquitto/next/glossary#Dynamic-Security"}),"dynamic security")," of Mosquitto.\nSee ",(0,n.kt)("a",p({parentName:"p"},{href:"/documentation-staging/mosquitto/next/security/mosquitto/dynamic-security"}),"here")," for\na detailed description of the concepts of dynamic security."),(0,n.kt)("admonition",p({},{type:"info"}),(0,n.kt)("p",{parentName:"admonition"},"The dynamic security feature is available since version 2.0 of Eclipse Mosquitto. If you are still using version 1.6,\nsee ",(0,n.kt)("a",p({parentName:"p"},{href:"https://mosquitto.org/documentation/migrating-to-2-0/"}),"this guide")," on how to migrate.")),(0,n.kt)("h2",p({},{id:"roles-overview"}),"Roles Overview"),(0,n.kt)("p",null,"The roles overview lists all roles showing their name, text name and description. The Access Control List for\na role has to be defined in the pages for editing or creating a role."),(0,n.kt)("p",null,"Following a sample roles table listing some sample roles:"),(0,n.kt)("p",null,"Below the table you can select how many roles are displayed on one page of the table. Clicking on the arrow button\nwill show the next or previous set of roles, if there are more roles defined than visible on one page."),(0,n.kt)("h2",p({},{id:"create-roles"}),"Create roles"),(0,n.kt)("p",null,'Create a role by clicking the "New Role" Button in the bottom right corner. Set a name and description to remind\nyourself, why you added this particular role.'),(0,n.kt)("p",null,'You can not set the ACLs in this page. You can edit the ACLs by clicking\non a role on the overview table to edit it and then switching from the "Details"\ntab to the "ACLs" tab.'),(0,n.kt)("h2",p({},{id:"edit-roles"}),"Edit roles"),(0,n.kt)("p",null,"Here you can edit the properties for the role. Two tabs allow you to define these. Initially the role details are\neditable:"),(0,n.kt)("h3",p({},{id:"role-details"}),"Role Details"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Name"),": Enter a unique name for the role"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Text Name"),": Enter an optional additional name for the role"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Description"),": Enter an optional description for the role to decribe the purpose of the role")),(0,n.kt)("p",null,"In addition, the Role ACLs can be edited by switching the tab."),(0,n.kt)("h3",p({},{id:"role-acls"}),"Role ACLs"),(0,n.kt)("p",null,"The following ACL types are available:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"publishClientSend"),": Restrict the topics this client is allowed to use when publishing to the broker"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"publishClientReceive"),": Restrict the topics this client is allowed to use when receiving published messages from the\nbroker"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"subscribeLiteral"),": Restrict the exact topic filters that this client is allowed to subscribe to. Setting to ",(0,n.kt)("inlineCode",{parentName:"li"},"#"),"\nwould mean the client cannot subscribe to the ",(0,n.kt)("inlineCode",{parentName:"li"},"#")," topic, but could subscribe to ",(0,n.kt)("inlineCode",{parentName:"li"},"test/topic"),", for example."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"subscribePattern"),": Restrict a range of topic filters that this client is allowed to subscribe to."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"unsubscribeLiteral"),": Restrict the exact topic filters that this client is allowed to unsubscribe from. Setting\nto ",(0,n.kt)("inlineCode",{parentName:"li"},"#")," would mean the client cannot unsubscribe from the ",(0,n.kt)("inlineCode",{parentName:"li"},"#")," topic, but could unsubscribe from ",(0,n.kt)("inlineCode",{parentName:"li"},"test/topic"),", for\nexample."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"unsubscribePattern"),": Restrict a range of topic filters that this client is allowed to unsubscribe from.")),(0,n.kt)("p",null,"Select the ACL type in the dropdown, define the topic and ",(0,n.kt)("a",p({parentName:"p"},{href:"/documentation-staging/mosquitto/next/security/mosquitto/dynamic-security#priorities"}),"priority"),' of\nthe ACL and decide between "allow" and "deny".'),(0,n.kt)("h2",p({},{id:"configuring-default-access"}),"Configuring default access"),(0,n.kt)("p",null,"The initial configuration sets the default ACL type behaviors to:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"publishClientSend"),": deny"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"publishClientReceive"),": allow"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"subscribe"),": deny"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"unsubscribe"),": allow")),(0,n.kt)("p",null,'You can edit the default settings by clicking on the "edit default ACL Access" icon at the top right of the roles\noverview table.'))}y.isMDXComponent=!0},78901:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(67294),o=i(39082),l=i(13328);function r({version:e}){return e?n.createElement(o.Z,{sx:{margin:"5px 5px 15px 5px"},color:"info",size:"small",icon:n.createElement(l.Z,{size:"small"}),label:`${e}`}):n.createElement(n.Fragment,null)}}}]);